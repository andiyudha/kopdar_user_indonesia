install.packages("blogdown")
install.packages(c("DT", "leaflet"))
install.packages("keyring")
install.packages("Rtools")
devtools:::version_info
install.packages("devtools")
devtools::check_dep_version()
lawar <-  read.csv(url("https://github.com/sagitaninta/warkopBiodiverskripsi/blob/master/materiLokakarya/2-2%20exploratoryDataAnalysis_SGA/SulawesiBat_cleaned.csv"))
head(lawar)
?read.csv
lawar <-  download.file("https://github.com/sagitaninta/warkopBiodiverskripsi/blob/master/materiLokakarya/2-2%20exploratoryDataAnalysis_SGA/SulawesiBat_cleaned.csv")
# unduh data dari internet
download.file("https://github.com/sagitaninta/warkopBiodiverskripsi/blob/master/materiLokakarya/2-2%20exploratoryDataAnalysis_SGA/SulawesiBat_cleaned.csv",
destfile = "input/bat.csv")
lawar <- read.csv("input/bat.csv")
# cek data
head(lawar)
lawar <- read.csv(url("https://raw.githubusercontent.com/sagitaninta/warkopBiodiverskripsi/master/materiLokakarya/2-2%20exploratoryDataAnalysis_SGA/SulawesiBat_cleaned.csv"))
# cek data
head(lawar)
summary(lawar)
str(lawar)
# unduh data dari internet
lawar <- read.csv(url("https://raw.githubusercontent.com/sagitaninta/warkopBiodiverskripsi/master/materiLokakarya/2-2%20exploratoryDataAnalysis_SGA/SulawesiBat_cleaned.csv"))
# cek data
glimpse(lawar)
# cek data
library(dplyr)
glimpse(lawar)
install.packages("rgbif")
install.packages("rgbif")
library(rgbif)
library(rgbif)
## mencari data perjumpaan
occ_search(scientificName = "Bubalus", limit = 20)
buffaloID<-occ_search(scientificName = "Bubalus", country = "ID", limit=20)
buffaloID
## mengunduh data dari GBIF menggunakan rgbif
res<-occ_download('scientificName = "Bubalus"', 'country = ID')
?occ_download
View(GbifQueue)
View(DownReq)
## mengunduh data dari GBIF menggunakan rgbif
res<-occ_download('scientificName = "Bubalus"', 'country = ID', user = gbif_user, pwd=gbif_pwd)
Sys.setenv(GBIF_USER="gbif_user",GBIF_PWD="gbif_pwd")
## mengunduh data dari GBIF menggunakan rgbif
res<-occ_download('scientificName = "Bubalus"', 'country = ID', user = gbif_user, pwd=gbif_pwd)
## mengunduh data dari GBIF menggunakan rgbif
res<-occ_download('scientificName = "Bubalus"', 'country = ID')
Sys.setenv(GBIF_USER="gbif_user",GBIF_PWD="gbif_pwd",GBIF_EMAIL="gbif_email")
## mengunduh data dari GBIF menggunakan rgbif
res<-occ_download('scientificName = "Bubalus"', 'country = ID')
file.edit(".Rprofile")
## mengunduh data dari GBIF menggunakan rgbif
res<-occ_download('scientificName = "Bubalus"', 'country = ID')
file.edit(".Rprofile")
## mengunduh data dari GBIF menggunakan rgbif
res<-occ_download('scientificName = "Bubalus"', 'country = ID')
Sys.setenv("GBIF_USER"="sagitaninta","GBIF_PWD"="excalibur")
## mengunduh data dari GBIF menggunakan rgbif
res<-occ_download('scientificName = "Bubalus"', 'country = ID')
occ_download_meta(res)
occ_download_meta(res) # cek status download
dat<-occ_download_get("0013934-190415153152247")
?occ_download
# cek data
dim(dat)
head(dat)
occ_download_import(dat)
occ_download_get("0013934-190415153152247") %>% occ_download_import(dat)
occ_download_meta(res) # cek status download
occ_download_list()
occ_download_get("0013934-190415153152247") %>% occ_download_import()
rm(list=ls())
occ_download_meta(res) # cek status download
## mengunduh data dari GBIF menggunakan rgbif
res<-occ_download('scientificName = "Bubalus"', 'country = ID')
occ_download_meta(res) # cek status download
# Jika status sudah "SUCCEED", data bisa diambil melalui kode ini
occ_download_get("0013934-190415153152247") %>% occ_download_import()
occ_download_meta(res) # cek status download
# Jika status sudah "SUCCEED", data bisa diambil melalui kode ini
occ_download_get("0013934-190415153152247") %>% occ_download_import()
?occ_download_import
# Jika status sudah "SUCCEED", data bisa diambil melalui kode ini
?occ_download_get
occ_download_get("0013934-190415153152247", path="input/")
data<-occ_download_import(path = "input/0013934-190415153152247.zip")
# Jika status sudah "SUCCEED", data bisa diambil melalui kode ini
?occ_download_import
data<-occ_download_get("0013934-190415153152247", path="input/", overwrite = T) %>% occ_download_import()
data
## mengunduh data dari GBIF menggunakan rgbif
res<-occ_download('scientificName = "Bubalus"', 'country = ID')
occ_download_meta(res) # cek status download
occ_download_meta(res) # cek status download
occ_download_meta(res) # cek status download
## mencari data perjumpaan
occ_search(scientificName = "Bubalus", limit = 20)
## mencari data perjumpaan
occ_search(genus = "Bubalus", limit = 20)
## mencari data perjumpaan
occ_search(scientificName = "Bubalus", limit = 20)
buffaloID<-occ_search(scientificName = "Bubalus", country = "ID")
buffaloID
unlist(buffaloID)
View(buffaloID)
buffaloData<-buffaloID$data
head(buffaloData)
str(buffaloID)
glimpse(buffaloID)
library(dplyr)
glimpse(buffaloID)
summary(buffaloID)
head(buffaloData)
glimpse(buffaloData)
?glimpse
install.packages("VIM")
library(VIM)
colnames(buffaloData)
aggr(buffaloData, numbers=TRUE, sortVars=TRUE, labels=names(type2.all), cex.axis=.7, gap=3, ylab=c("Histogram of missing data","Pattern"))
aggr(buffaloData, numbers=TRUE, sortVars=TRUE, labels=names(buffaloData), cex.axis=.7, gap=3, ylab=c("Histogram of missing data","Pattern"))
aggr(buffaloData, numbers=TRUE, sortVars=TRUE, labels=names(buffaloData), cex.axis=.7, gap=3, ylab=c("Histogram of missing data"))
aggr(buffaloData, numbers=TRUE, sortVars=TRUE, labels=names(buffaloData), cex.axis=.7, gap=3, ylab=c("Histogram of missing data"))
?aggr
# pilih data yang ingin dianalisis
buffaloData %>% select(locationRemarks)
# menghapus kolom yang  kebanyakan NA
tapply(buffaloData, is.na)
?tapply
# menghapus kolom yang  kebanyakan NA
tapply(buffaloData, 1, is.na)
# menghapus kolom yang  kebanyakan NA
tapply(buffaloData, 2, is.na)
?vapply
# menghapus kolom yang  kebanyakan NA
colSums(is.na(buffaloData))
# menghapus kolom yang  kebanyakan NA
cols<-colSums(is.na(buffaloData))
cols[1]
length(cols)
cols>350
nameCols<-c()
while (cols>0.75*nrow(buffaloData)) {
nameCols<-c(nameCols,cols)
}
nameCols
while (cols>(0.75*nrow(buffaloData))) {
nameCols<-c(nameCols,cols)
}
cutoff<-0.75*nrow(buffaloData)
while (cols>cutoff) {
nameCols<-c(nameCols,cols)
}
cutoff<-0.75*nrow(buffaloData)
cutoff
addCols<-ifelse(cols>cutoff,cols,NA)
addCols<-ifelse(cols>cutoff,names(cols),NA)
addCols
if (cols>cutoff) {
nameCols<-names(cols)
}
nameCols
nameCols<-c()
names(cols)
# menghapus kolom yang  kebanyakan NA
cols<-colSums(is.na(buffaloData))
cutoff<-0.75*nrow(buffaloData)
nameCols<-c()
if (cols>cutoff) {
nameCols<-c(nameCols,names(cols))
}
namesCols
nameCols
for (i in length(cols)) {
if (i>cols){
nameCols<-c(nameCols,i)
}
}
nameCols
for (i in 1:length(cols)) {
if (i>cols){
nameCols<-c(nameCols,i)
}
}
for (i in 1:length(cols)) {
if (i>0.75){
nameCols<-c(nameCols,i)
}
}
nameCols
# menghapus kolom yang  kebanyakan NA
cols<-colSums(is.na(buffaloData))
cutoff<-0.75*nrow(buffaloData)
nameCols<-c()
length(cols)
for (i in 1:length(cols)) {
if (i>cutoff){
nameCols<-c(nameCols,i)
}
}
nameCols
addCols
addCols[1]
addCols[,1]
addCols[complete.cases(addCols)]
addCols<-ifelse(cols>cutoff,names(cols),NA)
addCols<-ifelse(cols>cutoff,names(cols),NA) %>% complete.cases()
addCols<-ifelse(cols>cutoff,names(cols),NA)
addCols<-addCols[complete.cases(addCols)]
class(addCols)
dim(addCols)
typeof(addCols)
buffData<-buffaloData %>% dplyr::select(addCols)
glimpse(buffData)
# menghapus kolom yang  kebanyakan NA
cols<-colSums(is.na(buffaloData))
cutoff<-0.90*nrow(buffaloData)
addCols<-ifelse(cols>cutoff,names(cols),NA)
addCols<-addCols[complete.cases(addCols)]
buffData<-buffaloData %>% dplyr::select(addCols)
glimpse(buffData)
aggr(buffData, numbers=TRUE, sortVars=TRUE, labels=names(buffData), cex.axis=.7, gap=3, ylab=c("Histogram of missing data","Pattern"))
# data yang paling banyak tidak ada yang mana?
library(mice)
# data yang paling banyak tidak ada yang mana?
install.packages(mice)
# data yang paling banyak tidak ada yang mana?
install.packages("mice")
# data yang paling banyak tidak ada yang mana?
library(mice)
md.pattern(buffData)
# menghapus kolom yang  kebanyakan NA
cols<-colSums(is.na(buffaloData))
cutoff<-0.95*nrow(buffaloData)
addCols<-ifelse(cols>cutoff,names(cols),NA)
addCols<-addCols[complete.cases(addCols)]
buffData<-buffaloData %>% dplyr::select(addCols)
aggr(buffData, numbers=TRUE, sortVars=TRUE, labels=names(buffData), cex.axis=.7, gap=3, ylab=c("Histogram of missing data","Pattern"))
md.pattern(buffData)
# a boring regression
library(ggplot2)
ggplot(buffData) +
geom_col(aes(x=year))
colnames(buffData)
ggplot(buffData) +
geom_col(aes(x=eventTime))
ggplot(buffData) +
geom_bar(aes(x=eventTime))
colnames(buffaloData)
ggplot(buffaloData) +
geom_bar(aes(x=year))
# menghapus kolom yang  kebanyakan NA
cols<-colSums(is.na(buffaloData))
cutoff<-1*nrow(buffaloData)
addCols<-ifelse(cols>cutoff,names(cols),NA)
addCols<-addCols[complete.cases(addCols)]
buffData<-buffaloData %>% dplyr::select(addCols)
cutoff<-0.5*nrow(buffaloData)
addCols<-ifelse(cols>cutoff,names(cols),NA)
addCols<-addCols[complete.cases(addCols)]
buffData<-buffaloData %>% dplyr::select(addCols)
glimpse(buffData)
colnames(buffData)
ggplot(buffData) +
geom_bar(aes(x=year))
ggplot(buffData) +
geom_bar(aes(x=year),na.rm = T)
cutoff<-1*nrow(buffaloData)
addCols<-ifelse(cols>cutoff,names(cols),NA)
addCols<-ifelse(cols>cutoff|cols==cutoff,names(cols),NA)
addCols<-ifelse(cols>=cutoff,names(cols),NA)
addCols<-ifelse(cols<=cutoff,NA,names)
addCols<-ifelse(cols<=cutoff,NA,names(cols))
# menghapus kolom yang  kebanyakan NA
cols<-colSums(is.na(buffaloData))
cutoff<-1*nrow(buffaloData)
addCols<-ifelse(cols<=cutoff,NA,names(cols))
cutoff
# menghapus kolom yang  kebanyakan NA
buffData<-buffData[,colSums(is.na(buffaloData)==nrow(buffaloData))]
# menghapus kolom yang  kebanyakan NA
buffData<-buffaloData[[!sapply(buffaloData, function (x) all(is.na(x) | x == "" | x == " "))]]
glimpse(buffaloData)
# menghapus kolom yang  kebanyakan NA
buffData<-buffaloData[[!sapply(buffaloData, function (x) all(is.na(x) | x == "" | x == " "))]]
# menghapus kolom yang  kebanyakan NA
buffData<-buffaloData[!sapply(buffaloData, function (x) all(is.na(x) | x == "" | x == " "))]
# menghapus kolom yang kebanyakan NA
cols<-colSums(is.na(buffaloData))
cutoff<-0.5*nrow(buffaloData)
addCols<-ifelse(cols<=cutoff,NA,names(cols))
addCols<-addCols[complete.cases(addCols)]
buffData<-buffaloData %>% dplyr::select(addCols)
glimpse(buffData)
ggplot(buffData) +
geom_bar(aes(x=year),na.rm = T)
ggplot(buffData) +
geom_col(aes(x=year),na.rm = T)
ggplot(buffData) +
geom_col(aes(x=year),na.rm = T,stat="identity")
ggplot(buffData) +
geom_col(aes(x=year),na.rm = T,stat="count")
ggplot(buffData) +
geom_bar(aes(x=year),na.rm = T)
ggplot(buffData) +
geom_bar(aes(x=year),na.rm = T) +
coord_cartesian(ylim=c(0,20))
ggplot(buffData) +
geom_bar(aes(x=year),na.rm = T) +
coord_cartesian(ylim=c(0,20))
colnames(buffData)
ggplot(buffData) +
geom_count(aes(x=year,y=species))
ggplot(buffData) +
geom_count(aes(x=year,y=species),na.rm = T)
?occ_search
batsID<-occ_search(scientificName = "Chiroptera", country = "ID")
summary(batsID)
batsData<-batsID$data
batsID<-occ_search(scientificName = "Bubalus", country = "ID")
buffaloID<-occ_search(scientificName = "Bubalus", country = "ID")
summary(buffaloID)
buffaloData<-buffaloID$data
head(buffaloData)
occ_search(scientificName = "Bubalus", country = "ID")
res<-occ_download('scientificName = "Bubalus"', 'country = "ID"')
res<-occ_download('scientificName = "Bubalus"', 'country = "ID"')
sys.setenv(GBIF_USER="sagitaninta", GBIF_PWD="excalibur", GBIF_EMAIL="sagitaninta@gmail.com")
Sys.setenv(GBIF_USER="sagitaninta", GBIF_PWD="excalibur", GBIF_EMAIL="sagitaninta@gmail.com")
res<-occ_download('scientificName = "Bubalus"', 'country = "ID"')
?occ_download
res<-occ_download('scientificName = Bubalus', 'country = ID')
occ_download_meta(res)
# untuk melihat status preparasi data dari GBIF
occ_download_meta(res)
sessionInfo()
buffaloID<-occ_search(scientificName = "Bubalus", country = "ID")
summary(buffaloID)
## mencari data perjumpaan
occ_search(scientificName = "Bubalus", limit = 20)
## mencari data perjumpaan
occ_search(scientificName = "Bubalus", country = "ID", limit = 20)
lawar<-read.csv(url("https://raw.githubusercontent.com/sagitaninta/warkopBiodiverskripsi/master/materiLokakarya/2-2%20exploratoryDataAnalysis_SGA/SulawesiBat_cleaned.csv"))
head(lawar)
lawar<-read.csv(url("https://raw.githubusercontent.com/sagitaninta/warkopBiodiverskripsi/master/materiLokakarya/2-2%20exploratoryDataAnalysis_SGA/SulawesiBat_cleaned.csv"), row.names = F)
?read.csv
lawar<-read.csv(url("https://raw.githubusercontent.com/sagitaninta/warkopBiodiverskripsi/master/materiLokakarya/2-2%20exploratoryDataAnalysis_SGA/SulawesiBat_cleaned.csv"), row.names = NULL)
head(lawar)
glimpse(lawar)
library(ggplot2)
ggplot(lawar) +
geom_bar(aes(x=year),na.rm = T)
ggplot(data=lawar) +
geom_bar(aes(x=year), na.rm = T)+
coord_cartesian(ylim=c(0,50))
ggplot(lawar) +
geom_bar(aes(x=year),na.rm = T) +
labs(x="tahun",y="jumlah perjumpaan")
ggplot(lawar) +
geom_bar(aes(x=year),na.rm = T) +
labs(x="tahun",y="jumlah perjumpaan") +
theme(axis.title = element_text(vjust = 2))
ggplot(lawar) +
geom_bar(aes(x=year),na.rm = T) +
labs(x="tahun",y="jumlah perjumpaan") +
theme(axis.title = element_text(hjust = 2))
ggplot(lawar) +
geom_bar(aes(x=year),na.rm = T) +
labs(x="tahun",y="jumlah perjumpaan") +
theme(axis.title = element_text(hjust = 1))
ggplot(lawar) +
geom_bar(aes(x=year),na.rm = T) +
labs(x="tahun",y="jumlah perjumpaan") +
theme(axis.title = element_text(vjust = 1))
ggplot(lawar) +
geom_bar(aes(x=year),na.rm = T) +
labs(x="tahun",y="jumlah perjumpaan") +
theme(axis.title = element_text(vjust = -1))
ggplot(lawar) +
geom_bar(aes(x=year),na.rm = T) +
labs(x="tahun",y="jumlah perjumpaan") +
theme(axis.title = element_text(vjust = 1900))
ggplot(lawar) +
geom_bar(aes(x=year),na.rm = T) +
labs(x="tahun",y="jumlah perjumpaan") +
theme(axis.title = element_text(vjust = 0.5))
ggplot(lawar) +
geom_bar(aes(x=year),na.rm = T) +
labs(x="tahun",y="jumlah perjumpaan") +
theme(axis.title.y = element_text(margin = margin(t = 0, r = 20, b = 0, l = 0)))
ggplot(lawar) +
geom_bar(aes(x=year),na.rm = T) +
labs(x="tahun",y="jumlah perjumpaan") +
theme(axis.title = element_text(margin = margin(t = 10, r = 20, b = 0, l = 0)))
ggplot(lawar) +
geom_bar(aes(x=year),na.rm = T) +
labs(x="tahun",y="jumlah perjumpaan") +
theme(axis.title.y = element_text(margin = margin(t = 10, r = 20, b = 0, l = 0)))
ggplot(lawar) +
geom_bar(aes(x=year),na.rm = T) +
labs(x="tahun",y="jumlah perjumpaan") +
theme(axis.title.y = element_text(margin = margin(t = 0, r = 20, b = 0, l = 0)))
ggplot(lawar) +
geom_bar(aes(x=year),na.rm = T) +
labs(x="tahun",y="jumlah perjumpaan") +
theme(axis.title.y = element_text(margin = margin(t = 0, r = 10, b = 0, l = 0)))
ggplot(lawar) +
geom_bar(aes(x=year),na.rm = T) +
labs(x="tahun",y="jumlah perjumpaan") +
theme(axis.title.y = element_text(margin = margin(t = 0, r = 15, b = 0, l = 0)))
ggplot(data=lawar) +
geom_bar(aes(x=as.factor(year), fill=family)) ## pakai family karena spesies terlalu banyak
ggplot(data=lawar) +
geom_bar(aes(x=as.factor(year), fill=family)) + ## pakai family karena spesies terlalu banyak
labs(x="tahun",y="jumlah perjumpaan") +
coord_flip()
ggplot(data=lawar) +
geom_bar(aes(x=as.factor(year), fill=family)) + ## pakai family karena spesies terlalu banyak
labs(x="tahun",y="jumlah perjumpaan") +
theme(axis.text.x = element_text(angle=45))
ggplot(data=lawar) +
geom_bar(aes(x=as.factor(year), fill=family), na.rm = T) + ## pakai family karena spesies terlalu banyak
labs(x="tahun",y="jumlah perjumpaan") +
theme(axis.text.x = element_text(angle=45))
lawar %>% filter(1972<=year<=1976)
lawar %>% filter(1972<=year & year <=1976)
lawar %>% filter(1972<=year & year <=1976) %>% group_by(year) %>% count(speciesname) %>%
ggplot() +  geom_bar(aes(x=year), na.rm=T)
lawar %>% filter(1972<=year & year <=1976) %>%
ggplot() +  geom_bar(aes(x=year), na.rm=T)
lawar %>% filter(1972<=year & year <=1976) %>%
ggplot() +  geom_bar(aes(x=year), na.rm=T) +
labs(x="tahun",y="jumlah perjumpaan")
xaringan:::inf_mr()
head(lawar, width=250)
lawar<-read.csv("input/bat.csv"))
lawar<-read.csv("input/bat.csv")
mamtrop<-read.csv("input/biotime_rawdata.csv")
download.file("https://raw.githubusercontent.com/sagitaninta/warkopBiodiverskripsi/master/materiLokakarya/2-2%20exploratoryDataAnalysis_SGA/SulawesiBat_cleaned.csv",destfile = "input/bat.csv")
lawar<-read.csv("input/bat.csv")
?knitr::include_graphics
?out.width
plot(cars,
x=dist
y=speed)
?plot
ggplot(cars) +
geom_plot(aes(dist,speed))
library(ggplot2)
ggplot(cars) +
geom_plot(aes(dist,speed))
ggplot(cars) +
geom_dot(aes(dist,speed))
ggplot(cars) +
geom_dotplot(aes(dist,speed))
ggplot(cars) +
geom_dotplot(aes(x=dist,y=speed))
ggplot(cars) +
geom_jitter(aes(x=dist,y=speed))
ggplot(cars) +
geom_jitter(aes(x=dist,y=speed)) +
geom_histogram(aes(x=dist))
glimpse(mamtrop)
library(dplyr)
glimpse(mamtrop)
lawar<-read.csv("input/bat.csv")
mamtrop<-read.csv("input/biotime_rawdata.csv")
glimpse(mamtrop)
ggplot(mamtrop) +
geom_jitter(aes(x=YEAR,Y=ABUNDANCE))
ggplot(mamtrop) +
geom_dotplot(aes(x=YEAR,Y=ABUNDANCE))
View(mamtrop)
ggplot(mamtrop) +
geom_jitter(aes(x=YEAR,Y=ABUNDANCE))
ggplot(mamtrop) +
geom_bar(aes(x=YEAR,Y=ABUNDANCE))
ggplot(mamtrop) +
geom_line(aes(x=YEAR,Y=ABUNDANCE))
ggplot(mamtrop) +
geom_line(aes(x=YEAR,y=ABUNDANCE))
ggplot(mamtrop) +
geom_jitter(aes(x=YEAR,y=ABUNDANCE))
ggplot(mamtrop) +
geom_histogram(aes(ABUNDANCE))
ggplot(mamtrop) +
geom_histogram(aes(BIOMASS))
ggplot(mamtrop) +
geom_histogram(aes(BIOMASS), binwidth = 10)
ggplot(mamtrop) +
geom_histogram(aes(BIOMASS), binwidth = 50)
ggplot(mamtrop) +
geom_histogram(aes(BIOMASS), binwidth = 45)
ggplot(mamtrop) +
geom_histogram(aes(BIOMASS), binwidth = 25)
ggplot(mamtrop) +
geom_histogram(aes(BIOMASS), binwidth = 30)
ggplot(mamtrop) +
geom_histogram(aes(ABUNDANCE), binwidth = 20)
ggplot(mamtrop) +
geom_histogram(aes(ABUNDANCE), binwidth = 25)
ggplot(mamtrop) +
geom_histogram(aes(ABUNDANCE), binwidth = 30)
ggplot(mamtrop) +
geom_histogram(aes(ABUNDANCE), binwidth = 10)
ggplot(mamtrop) +
geom_histogram(aes(BIOMASS), binwidth = 10)
ggplot(mamtrop) +
geom_jitter(aes(x=ABUNDANCE,y=BIOMASS))
mamtrop_met<-read.csv("input/biotime_metadata.csv")
glimpse(mamtrop_met)
